<!DOCTYPE html>
<html>
<head>
    <script data-main="app" src="lib/requirejs/require.js"></script>
    <script src="lib/jquery/dist/jquery.min.js"></script>
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>-->
    <script src="lib/bootstrap/dist/js/bootstrap.js"></script>
    <script src="lib/bootstrap-table/dist/bootstrap-table.js"></script>

    <!--<link rel="stylesheet" href="assets/css/bootstrap.min.css">-->

    <link rel="stylesheet" href="lib/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="lib/bootstrap-table/dist/bootstrap-table.css">

    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.10.1/bootstrap-table.min.js"></script>-->
</head>
<body onload="onloadListEvents()">
<!--<h1 id="response"></h1>-->

<!--<div id="event-list"></div>-->
<div class="container">
    <h2>Upcoming Events from Us!</h2>
    <p></p>
    <!--<table class="table table-hover" data-toggle="table" id="table" data-url="data.json">-->
    <table class="table table-hover" id="table">
        <thead class="thead-inverse">
        <tr>
            <th>#</th>
            <th width="20%" data-field="category">Category</th>
            <th width="40%" data-field="eventName">Event Name</th>
            <th width="10%" data-field="startDateStr">Start Date</th>
            <th width="10%" data-field="endDateStr">End Date</th>
            <th width="20%" data-field="button"></th>
        </tr>
        </thead>
    </table>
    <br>
</div>
<div class="container">
    <div class="row">
        <a href="event-form.html" class="btn btn-primary">Add Event</a>
    </div>
</div>
<br>


<script>
    var addSerialNumber = function () {
        $('table tr').each(function(index) {
            $(this).find('td:nth-child(1)').html(index);
        });
        $("th").css("color", "#ffffff");
        $("th").css("background-color", "#3275ad");
        $("td").css("vertical-align", "middle");
    };

    function onloadListEvents(){
        $.ajax({
            type : "GET",
            contentType : "application/json",
            url : "/content",
            //data : JSON.stringify(data),
            dataType : 'json',
            timeout : 100000,
            success : function(data) {
                console.log("SUCCESS: ", data);
                var $table = $('#table');
                $('#table').bootstrapTable({
                    data: data
                });
                addSerialNumber();
            },
            error : function(e) {
                console.log("ERROR: ", e);
            },
            done : function(e) {
                console.log("DONE");
            }
        });
        /*var table = document.getElementById('table');
        var rows = table.getElementsByTagName('tr');
        var text = 'textContent' in document ? 'textContent' : 'innerText';
        for (var i = 0, len = rows.length; i < len; i++){
            console.log("rows.length: " + rows.length)
            rows[i].children[0][text] = i + ': ' + rows[i].children[0][text];
        }*/


    }
</script>
</body>

</html>
